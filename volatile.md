在多线程并发编程中，volatile是一种轻量级的synchronized，它在多处理的开发中保证了共享变量的可见性。可见性是当一个线程修改了某个共享变量的值，那么另一个线程总是能读到最新的值。

通过获取JIT编译器生成的汇编指令，查看volatile在并发写操作的时候发生了什么

可以了解到有一个lock前缀的指令，这个指令在多核处理器下会发生两件事情：

1.将当前处理器的缓存行的数据写回到系统内存

2.这个写会内存的操作会使其他cpu里缓存了该内存地址的数据无效

因为，为了提高处理速度，处理器不直接与内存打交道，而是先将系统内存的数据读取到cpu的高速缓存后再进行操作